<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Professor Ricardo de Faria Barros">
    <title>Navegador BANI - Pilares de Harvard</title>
    <link href="https://fonts.googleapis.com/css2?family=Architects+Daughter&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #fdf5e6; --azul: #a2d2ff; --verde: #caffbf;
            --amarelo: #fdffb6; --roxo: #cdb4db; --vermelho: #ffadad;
            --laranja: #ffcc80; --text-color: #333; --border-sketch: 2.5px solid #444;
        }
        body {
            background-color: #e5e5e5;
            background-image: radial-gradient(#d1d1d1 1.5px, transparent 1.5px);
            background-size: 25px 25px;
            font-family: 'Architects Daughter', cursive;
            font-size: 19px; /* Legibilidade aumentada */
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh; margin: 0; padding: 20px; color: var(--text-color);
        }
        #notebook-page {
            background-color: var(--bg-color); width: 100%; max-width: 950px;
            min-height: 85vh; padding: 50px; box-shadow: 15px 15px 0px #444;
            border: var(--border-sketch); border-radius: 15px 255px 15px 225px/225px 15px 255px 15px;
            position: relative; display: flex; flex-direction: column;
        }

        /* ESTILO DOS POST-ITS */
        .post-it {
            position: fixed; right: 20px; width: 230px; padding: 18px; 
            border: var(--border-sketch); box-shadow: 6px 6px 0px rgba(0,0,0,0.1); 
            cursor: pointer; z-index: 100; font-size: 1.1rem; transition: 0.3s;
        }
        .post-it:hover { transform: scale(1.05) rotate(0deg); }
        #post-it-comp { top: 20px; background-color: var(--amarelo); transform: rotate(3deg); }
        #post-it-harvard { top: 180px; background-color: var(--verde); transform: rotate(-2deg); }

        /* MODAIS */
        .modal { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center; 
        }
        .modal-content { 
            background: var(--bg-color); padding: 40px; max-width: 800px; max-height: 90vh; 
            overflow-y: auto; border: 4px solid #444; border-radius: 25px; 
        }
        .pillar-box { border-left: 8px solid; padding-left: 15px; margin-bottom: 25px; }

        /* INTERFACE */
        .status-container { display: flex; justify-content: space-around; margin-bottom: 30px; border-bottom: 3px dashed #ccc; padding-bottom: 15px; font-weight: bold; }
        .bar-out { height: 18px; width: 140px; border: 2px solid #444; background: #fff; border-radius: 8px; }
        .btn-option { 
            display: block; width: 100%; padding: 20px; margin: 12px 0; background: white; 
            border: var(--border-sketch); font-family: 'Architects Daughter', cursive; 
            font-size: 1.3rem; cursor: pointer; border-radius: 10px 30px; text-align: left; 
        }
        .btn-option:hover { background: var(--amarelo); }
        footer { margin-top: auto; font-size: 1.1rem; text-align: right; border-top: 2px solid #ddd; padding-top: 15px; }
        .hidden { display: none; }
    </style>
</head>
<body>

<div id="post-it-comp" class="post-it" onclick="toggleModal('modal-comp')">
    <strong>üìö Compet√™ncias</strong><br><small>Parte 1: BANI</small>
</div>

<div id="post-it-harvard" class="post-it" onclick="toggleModal('modal-harvard')">
    <strong>‚öñÔ∏è Pilares Harvard</strong><br><small>Guia Pr√°tico</small>
</div>

<div id="modal-comp" class="modal" onclick="closeModals()">
    <div class="modal-content" onclick="event.stopPropagation()">
        <h2 style="text-decoration: underline;">Compet√™ncias Emergentes (Parte 1)</h2>
        <div class="pillar-box" style="border-color: var(--azul);">
            <h3>1. Antifragilidade e Regula√ß√£o Emocional</h3>
            <p><strong>Compet√™ncia:</strong> Usar o caos como combust√≠vel para evoluir.</p>
            <p><strong>Como Desenvolver:</strong> Pausa Frankliana (Escolha sua rea√ß√£o).</p>
        </div>
        <div class="pillar-box" style="border-color: var(--laranja);">
            <h3>2. Escuta Logoterap√™utica (Sentido)</h3>
            <p><strong>Compet√™ncia:</strong> Buscar o prop√≥sito existencial do outro.</p>
            <p><strong>Como Desenvolver:</strong> Eco e Investiga√ß√£o ("O que isso significa?").</p>
        </div>
        <button class="btn-option" onclick="closeModals()" style="text-align:center; background: var(--verde);">Voltar</button>
    </div>
</div>

<div id="modal-harvard" class="modal" onclick="closeModals()">
    <div class="modal-content" onclick="event.stopPropagation()">
        <h2 style="text-align:center; background: var(--vermelho);">5 Pilares da Negocia√ß√£o de Harvard</h2>
        
        <div class="pillar-box" style="border-color: var(--azul);">
            <strong>1. Separar as Pessoas do Problema:</strong> Valide emo√ß√µes, foque nos fatos t√©cnicos. Li√ß√£o: Preserve o v√≠nculo humano.
        </div>
        <div class="pillar-box" style="border-color: var(--amarelo);">
            <strong>2. Interesses vs. Posi√ß√µes:</strong> Investigue a necessidade oculta por tr√°s da exig√™ncia. Li√ß√£o: Busque necessidades, n√£o egos.
        </div>
        <div class="pillar-box" style="border-color: var(--verde);">
            <strong>3. Op√ß√µes de Ganho M√∫tuo:</strong> Brainstorming criativo. Troque itens de baixo custo para voc√™ por alto valor para o outro.
        </div>
        <div class="pillar-box" style="border-color: var(--vermelho);">
            <strong>4. Crit√©rios Objetivos:</strong> Use padr√µes externos (Leis, IPCA, Mercado) para decidir o justo. Li√ß√£o: Remove a subjetividade.
        </div>
        <div class="pillar-box" style="border-color: var(--roxo);">
            <strong>5. Conhecer seu MAPAN (BATNA):</strong> Tenha um Plano B claro antes de sentar √† mesa. O poder vem da sua alternativa de sa√≠da.
        </div>
        
        <button class="btn-option" onclick="closeModals()" style="text-align:center; background: var(--azul);">Entendido!</button>
    </div>
</div>

<div id="notebook-page">
    <div id="setup-screen">
        <h1>Navegador BANI</h1>
        <p>Assine seu di√°rio para come√ßar a jornada estrat√©gica:</p>
        <input type="text" id="player-name" placeholder="Seu nome..." style="font-family: 'Architects Daughter', cursive; border-bottom: 3px dashed #444; background: transparent; padding: 15px; width: 90%; font-size: 1.6rem; outline: none;">
        <br><br>
        <button class="btn-option" onclick="initGame()" style="text-align:center; background: var(--verde); font-weight: bold;">Iniciar Simula√ß√£o</button>
    </div>

    <div id="game-screen" class="hidden">
        <div class="status-container">
            <div>Valor (V) <div class="bar-out"><div id="bar-v" class="bar-in" style="height:100%; width:50%; transition: 0.5s;"></div></div></div>
            <div>Confian√ßa (C) <div class="bar-out"><div id="bar-c" class="bar-in" style="height:100%; width:50%; transition: 0.5s;"></div></div></div>
            <div>Sentido (S) <div class="bar-out"><div id="bar-s" class="bar-in" style="height:100%; width:50%; transition: 0.5s;"></div></div></div>
        </div>
        <h2 id="phase-title">Cen√°rio</h2>
        <p id="scenario-text" style="font-size: 1.5rem; line-height: 1.6;"></p>
        <div id="options-container"></div>
        <div id="feedback-box" class="hidden" style="font-size: 1.4rem; padding: 20px; border: 3px dashed #444; background: var(--amarelo);"></div>
        <button id="btn-next" class="btn-option hidden" style="background: var(--roxo); text-align: center; color: white; font-weight: bold;">Virar a p√°gina --></button>
    </div>

    <div id="final-screen" class="hidden">
        <h1>Relat√≥rio de Desempenho</h1>
        <div id="badges-container" class="hidden" style="text-align: center; margin-bottom: 30px;">
            <h3>üèÖ Medalhas Conquistadas:</h3>
            <div id="badges-list"></div>
        </div>
        <div id="final-diagnosis-box" style="background: #fff3e0; padding: 40px; border-radius: 15px; border: 3px dashed #444;">
            <p id="final-diagnosis" style="font-size: 1.7rem; text-align: center;"></p>
        </div>
        <br>
        <button class="btn-option" onclick="location.reload()" style="text-align: center; background: var(--azul); font-weight: bold;">Tentar Novamente</button>
    </div>

    <footer>Mentor: <strong>Prof. Ricardo de Faria Barros</strong></footer>
</div>

<script>
    let playerName = "", v = 50, c = 50, s = 50, currentPhase = 0;
    let myBadges = new Set();

    const scenarios = [
        { t: "O Ultimato do Fornecedor", d: "Varejo: Um fornecedor crucial exige um aumento imediato de 20%, amea√ßando interromper a entrega amanh√£.", ops: [
            { text: "Aceitar imediatamente por medo da ruptura.", v: -20, c: 5, s: -10, f: "Voc√™ ignorou seu MAPAN (Pilar 5). Cedeu sem plano B." },
            { text: "Investigar: 'O que justifica esse custo? Podemos negociar o prazo?'", v: 15, c: 15, s: 15, f: "Crit√©rios Objetivos (Pilar 4)! Voc√™ buscou fatos antes de ceder.", badge: "Estrategista" },
            { text: "Amea√ßar cancelar todos os pedidos futuros.", v: -10, c: -40, s: -5, f: "Ataque pessoal (N√£o seguiu o Pilar 1). Destruiu o v√≠nculo humano." }
        ]},
        { t: "Rigidez no Setor P√∫blico", d: "P√∫blico: Um gestor trava um projeto inovador alegando que 'sempre foi feito assim', negando qualquer conversa.", ops: [
            { text: "Pausa Frankliana e buscar entender o medo dele.", v: 10, c: 25, s: 20, f: "Antifragilidade! Voc√™ regulou sua emo√ß√£o para conectar.", badge: "Mestre do Sentido" },
            { text: "Focar nos Interesses: 'O que garante seguran√ßa jur√≠dica para voc√™?'", v: 20, c: 15, s: 15, f: "Interesses vs Posi√ß√µes (Pilar 2). Investigou a necessidade oculta.", badge: "Diplomata" },
            { text: "Ignorar o gestor e tentar contornar a regra.", v: -5, c: -30, s: -15, f: "Faltou transpar√™ncia. Voc√™ criou um inimigo na mesa." }
        ]}
    ];

    function toggleModal(id) { document.getElementById(id).style.display = 'flex'; }
    function closeModals() { document.querySelectorAll('.modal').forEach(m => m.style.display = 'none'); }
    
    function initGame() { playerName = document.getElementById('player-name').value; if(!playerName) return alert("Assine seu di√°rio."); document.getElementById('setup-screen').classList.add('hidden'); document.getElementById('game-screen').classList.remove('hidden'); renderPhase(); }
    
    function renderPhase() {
        const data = scenarios[currentPhase]; if(!data) return showFinal();
        document.getElementById('phase-title').innerText = `${currentPhase + 1}/${scenarios.length}: ${data.t}`;
        document.getElementById('scenario-text').innerText = data.d;
        const container = document.getElementById('options-container'); container.innerHTML = "";
        data.ops.forEach(o => { const b = document.createElement('button'); b.className = 'btn-option'; b.innerText = o.text; b.onclick = () => selectOption(o); container.appendChild(b); });
        updateBars();
    }

    function selectOption(o) {
        v += o.v || 0; c += o.c || 0; s += o.s || 0;
        if(o.badge) myBadges.add(o.badge);
        const fb = document.getElementById('feedback-box'); fb.innerHTML = `<strong>Feedback:</strong> ${o.f}`; fb.classList.remove('hidden');
        document.getElementById('options-container').innerHTML = ""; document.getElementById('btn-next').classList.remove('hidden');
        updateBars();
    }

    document.getElementById('btn-next').onclick = () => { currentPhase++; document.getElementById('feedback-box').classList.add('hidden'); document.getElementById('btn-next').classList.add('hidden'); renderPhase(); };
    
    function updateBars() { 
        document.getElementById('bar-v').style.width = Math.max(0, Math.min(100, v)) + "%"; 
        document.getElementById('bar-c').style.width = Math.max(0, Math.min(100, c)) + "%"; 
        document.getElementById('bar-s').style.width = Math.max(0, Math.min(100, s)) + "%"; 
        const bars = document.querySelectorAll('.bar-in'); 
        bars.forEach(b => { let val = parseInt(b.style.width); b.style.backgroundColor = val > 65 ? "#caffbf" : (val > 35 ? "#fdffb6" : "#ffadad"); }); 
    }

    function showFinal() {
        document.getElementById('game-screen').classList.add('hidden');
        document.getElementById('final-screen').classList.remove('hidden');
        let media = (v + c + s) / 3;
        let diag = ""; let showBadges = true;

        if (media > 80) diag = "ü¶Å <strong>LE√ÉO DAS PONTES:</strong> Voc√™ usa os 5 Pilares de Harvard como escudo e espada. Brilhante!";
        else if (v > 75) diag = "ü¶à <strong>TUBAR√ÉO DE AQU√ÅRIO:</strong> Muito valor, mas a confian√ßa est√° no ralo. Sem v√≠nculo humano (Pilar 1), voc√™ n√£o dura.";
        else if (c > 75) diag = "üß∏ <strong>URSINHO CARINHOSO:</strong> Todos confiam em voc√™, mas seu MAPAN √© fraco. Aprenda a dizer n√£o!";
        else { diag = "ü¶Ü <strong>N√ÅUFRAGO DE B√ìIA:</strong> O caos te engoliu. Releia os manuais nos post-its!"; showBadges = false; }

        if (showBadges && myBadges.size > 0) {
            document.getElementById('badges-list').innerHTML = Array.from(myBadges).map(b => `<span style="background:var(--verde); padding:10px; border-radius:10px; margin:5px;">üèÖ ${b}</span>`).join(" ");
            document.getElementById('badges-container').classList.remove('hidden');
        }
        document.getElementById('final-diagnosis').innerHTML = `<strong>Navegador:</strong> ${playerName}<br><br>${diag}`;
    }
</script>
</body>
</html>